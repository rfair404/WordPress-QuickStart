#!/bin/sh
# Optimized pre-push hook - runs fast essential checks only
# Full test suite runs in CI/CD pipeline

echo "🚀 Running optimized pre-push checks..."

# 1. Run Playwright smoke tests only (fast browser validation)
echo "🎭 Running Playwright smoke tests..."
lando npm run test:e2e:smoke || exit 1

# 2. Run WordPress installation validation (essential structural checks)
echo "🔍 Validating WordPress installation..."
lando composer run test:wp-installation || exit 1

# 3. Run code quality checks (linting)
echo "📝 Running code quality checks..."
lando composer run analyze || exit 1

echo "✅ Pre-push checks passed! Full test suite will run in CI/CD."