#!/bin/sh
# Optimized pre-push hook - runs fast essential checks only
# Full test suite runs in CI/CD pipeline

echo "ğŸš€ Running optimized pre-push checks..."

# 1. Run Playwright smoke tests only (fast browser validation)
echo "ğŸ­ Running Playwright smoke tests..."
lando npm run test:e2e:smoke || exit 1

# 2. Run WordPress installation validation (essential structural checks)
echo "ğŸ” Validating WordPress installation..."
lando composer run test:wp-installation || exit 1

# 3. Run code quality checks (linting)
echo "ğŸ“ Running code quality checks..."
lando composer run analyze || exit 1

echo "âœ… Pre-push checks passed! Full test suite will run in CI/CD."